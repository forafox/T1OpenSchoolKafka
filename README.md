# Задание: Реализация системы учета времени выполнения методов

## Описание:

Разработана система учета времени выполнения методов в приложении с использованием Spring AOP.
Система способна асинхронно логировать и анализировать данные о времени выполнения методов.

## Выполненные требования:

1. Создана аннотации @TrackTime и @TrackAsyncTime, которые можно применять к методам для отслеживания времени их
   выполнения.
2. Реализованы аспекты, используя Spring AOP, для асинхронного и синхронного отслеживания времени выполнения методов,
   помеченных соответствующими аннотациями.
3. Создан сервис, который будет асинхронно сохранять данные о времени выполнения методов в базе данных.
4. Реализовано REST API для получения статистики по времени выполнения методов (например, среднее время выполнения,
   общее время выполнения) для различных методов и их групп.
5. Настроено приложение с помощью конфигурации Spring для включения использования AOP и асинхронной обработки данных.

## Стек

- Java
- Spring Boot
- Gradle
- PostgreSQL

## Особенности

- Документация к API.(Интерактивная и api-docs.json)
- Для приложения разработана инструкция по сборке. Сборка выполняется с помощью Docker.
- Присутствует файл .env. Представленные данные являются публичными и используются только! при тестировании.

## Film Api

### Аннотация @Throw

Методы FilmServiceImpl, которые обрабатывают следующие эндпоинты:

- /film/id/{id}
- /film/title/{titleName}
- /film/producer/{producer}
- /film/genre/{genre}
- /film/country/{country}

### Аннотация @TrackTime

Методы FilmServiceImpl, которые обрабатывают следующие эндпоинты:

- /film
- /film/id/{id}
- /film/genre/{genre}
- /film/country/{country}

### Аннотация @TrackAsyncTime

Методы FilmServiceImpl, которые обрабатывают следующие эндпоинты:

- /film
- /film/title/{titleName}
- /film/producer/{producer}

## Ссылки (Доступны во время работы приложения)

- Интерактивная Swagger документация (http://localhost:8080/swagger-ui/index.html#/)

## Сборка

Для сборки приложения необходимо выполнить следующие действия.

1. Склонировать репозиторий:

   ```bash
   git clone https://github.com/forafox/T1OpenSchoolAOP
   cd T1OpenSchoolAOP
   ```

2. Выполнить build в директории приложения с помощью следующей команды:

   ```bash
   docker compose build 
   ```
3. Для запуска приложения необходимо выполнить следующую команду:

   ```bash
   docker compose up
   ```

- Пункты 3 и 4 **можно** объединить в следующую команду:

    ```bash
    docker compose up --build
    ```

### Критерии оценки работы:

1. Реализация аспектов:
2. Правильное применение Spring AOP для создания аспектов.
3. Корректное определение точек среза для методов, помеченных аннотациями @TrackTime и @TrackAsyncTime.
4. Обработка исключений и ошибок в аспектах.

5. Обработка асинхронных вызовов:

    - Асинхронное отслеживание времени выполнения методов, помеченных аннотацией @TrackAsyncTime.
    - Корректная обработка результатов асинхронных операций.

6. ранение и анализ данных:
    - Реализация сервиса для асинхронного сохранения данных о времени выполнения методов в базе данных.
    - Корректное хранение данных в базе данных.
    - Реализация механизма анализа данных для получения статистики по времени выполнения методов.

7. REST API:
    - Создание REST API для получения статистики по времени выполнения методов.
    - Корректная обработка запросов и передача данных в формате JSON.
    - Документация API.

8. Качество кода и архитектура:
    - Чистота, читаемость и модульность кода.
    - Соблюдение принципов SOLID и других принципов проектирования.
    - Правильное использование паттернов проектирования.

